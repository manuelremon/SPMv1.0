>>> README.md
# ðŸŽ¯ SPM - Sistema de Solicitudes de Materiales

Una aplicaciÃ³n web profesional para gestionar solicitudes de materiales, construida con **Flask** (backend) + **Vite + JavaScript** (frontend).

**VersiÃ³n:** 1.0 | **Estado:** âœ… ProducciÃ³n | **Ãšltima actualizaciÃ³n:** Octubre 2025

---

## ðŸ“Œ DescripciÃ³n General

SPM es un sistema integral de gestiÃ³n de solicitudes diseÃ±ado para optimizar procesos administrativos:

- âœ… **AutenticaciÃ³n segura** basada en roles (Admin, Coordinador, Usuario)
- âœ… **Flujo de aprobaciÃ³n** completo con notificaciones
- âœ… **GestiÃ³n de materiales** y almacenes multiubicaciÃ³n
- âœ… **Reportes y anÃ¡lisis** en tiempo real
- âœ… **Consola IA** para asistencia inteligente
- âœ… **API REST** completamente documentada
- âœ… **Interfaz moderna y responsiva**

---

## ðŸ“‹ Requisitos Previos

| Componente | VersiÃ³n | PropÃ³sito |
|-----------|---------|----------|
| Python | 3.11+ / 3.12 | Backend y scripts |
| Node.js | 18+ | Build del frontend |
| Docker | Ãšltima | ContenedorizaciÃ³n (opcional) |
| SQLite | Incluido | Base de datos |
| Git | 2.0+ | Control de versiones |

---

## ðŸš€ Inicio RÃ¡pido

### 1ï¸âƒ£ InstalaciÃ³n Local

```bash
# Clonar repositorio
git clone https://github.com/manuelremon/SPMv1.0.git
cd SPMv1.0

# Crear entorno virtual
python -m venv .venv

# Activar entorno
# Windows:
.venv\Scripts\activate
# Linux/macOS:
source .venv/bin/activate

# Instalar dependencias
pip install -r requirements.txt

# Configurar variables de entorno
cp .env .env.local
# Editar .env.local con tus valores

# Ejecutar servidor
python src/backend/app.py
```

âœ… Disponible en: `http://localhost:5000`

### 2ï¸âƒ£ InstalaciÃ³n con Docker

```bash
# Construir e iniciar
docker compose up --build

# Solo iniciar (sin rebuild)
docker compose up
```

âœ… Disponible en: `http://localhost:5000`

---

## ðŸ“ Estructura del Proyecto

```
SPMv1.0/
â”œâ”€â”€ src/                              # ðŸ“¦ CÃ³digo fuente
â”‚   â”œâ”€â”€ backend/                      # ðŸ”§ API Flask
â”‚   â”‚   â”œâ”€â”€ app.py                   # âš™ï¸ AplicaciÃ³n principal
â”‚   â”‚   â”œâ”€â”€ auth.py                  # ðŸ” AutenticaciÃ³n JWT
â”‚   â”‚   â”œâ”€â”€ routes/                  # ðŸ›£ï¸ Endpoints API
â”‚   â”‚   â”œâ”€â”€ models/                  # ðŸ“Š Modelos BD (SQLAlchemy)
â”‚   â”‚   â”œâ”€â”€ services/                # ðŸ’¼ LÃ³gica de negocio
â”‚   â”‚   â”œâ”€â”€ middleware/              # ðŸš€ Middleware personalizado
â”‚   â”‚   â”œâ”€â”€ core/                    # ðŸ”Œ Utilidades core
â”‚   â”‚   â””â”€â”€ data/                    # ðŸ“¥ CSV para inicializaciÃ³n
â”‚   â”‚
â”‚   â”œâ”€â”€ frontend/                     # ðŸŽ¨ Interfaz web
â”‚   â”‚   â”œâ”€â”€ index.html               # ðŸ  Punto de entrada
â”‚   â”‚   â”œâ”€â”€ components/              # ðŸ§© Componentes JS
â”‚   â”‚   â”œâ”€â”€ pages/                   # ðŸ“„ PÃ¡ginas principales
â”‚   â”‚   â”œâ”€â”€ ui/                      # ðŸŽ­ Componentes UI
â”‚   â”‚   â”œâ”€â”€ styles.css               # ðŸŽ¨ Estilos globales
â”‚   â”‚   â””â”€â”€ utils/                   # ðŸ› ï¸ Funciones de utilidad
â”‚   â”‚
â”‚   â””â”€â”€ agent/                        # ðŸ¤– Asistente IA (prototipo)
â”‚
â”œâ”€â”€ config/                           # âš™ï¸ Configuraciones
â”œâ”€â”€ database/                         # ðŸ—„ï¸ Base de datos
â”‚   â”œâ”€â”€ migrations/                  # ðŸ“œ Scripts de migraciÃ³n
â”‚   â””â”€â”€ seeds/                       # ðŸŒ± Datos iniciales
â”‚
â”œâ”€â”€ docs/                             # ðŸ“š DocumentaciÃ³n
â”‚   â”œâ”€â”€ guides/                      # ðŸ“– GuÃ­as de uso
â”‚   â”œâ”€â”€ api/                         # ðŸ”Œ DocumentaciÃ³n API
â”‚   â”œâ”€â”€ archive/                     # ðŸ“¦ DocumentaciÃ³n histÃ³rica
â”‚   â”œâ”€â”€ CHANGELOG.md                 # ðŸ“ Historial de cambios
â”‚   â””â”€â”€ STRUCTURE.md                 # ðŸ—‚ï¸ Estructura tÃ©cnica
â”‚
â”œâ”€â”€ infrastructure/                  # ðŸ—ï¸ Infraestructura
â”œâ”€â”€ scripts/                          # ðŸ”¨ Utilidades
â”‚   â”œâ”€â”€ utilities/                   # ðŸ› ï¸ Scripts de desarrollo
â”‚   â””â”€â”€ migrations/                  # ðŸ”„ Scripts de migraciÃ³n
â”‚
â”œâ”€â”€ tests/                            # âœ… Suite de pruebas
â”‚   â”œâ”€â”€ unit/                        # ðŸ”¬ Pruebas unitarias
â”‚   â”œâ”€â”€ integration/                 # ðŸ”— Pruebas de integraciÃ³n
â”‚   â””â”€â”€ e2e/                         # ðŸš€ Pruebas end-to-end
â”‚
â”œâ”€â”€ ðŸ³ Dockerfile
â”œâ”€â”€ ðŸ³ docker-compose.yml
â”œâ”€â”€ ðŸ“¦ package.json & requirements.txt
â”œâ”€â”€ âš™ï¸ Archivos de configuraciÃ³n
â””â”€â”€ ðŸ“– README.md (este archivo)
```

---

## ðŸ”§ ConfiguraciÃ³n de Entorno

Crea `.env` en la raÃ­z:

```env
# ðŸ” Seguridad
SPM_SECRET_KEY=tu-clave-secreta-super-segura-aqui
AUTH_BYPASS=0                    # 0=producciÃ³n, 1=desarrollo

# ðŸ—„ï¸ Base de Datos
SPM_DB_PATH=./spm.db
SPM_UPLOAD_DIR=./uploads

# ðŸ”§ Flask
FLASK_ENV=development
DEBUG=1
FLASK_APP=src/backend/app.py

# ðŸš€ Servidor
PORT=5000
HOST=0.0.0.0
```

---

## ðŸ“š DocumentaciÃ³n

### ðŸ‘¥ Para Usuarios Finales
- ðŸ“– [GuÃ­a de Inicio](docs/guides/GUIA_INICIO.md)
- ðŸ“‹ [GestiÃ³n de Solicitudes](docs/guides/)
- ðŸ“Š [Reportes y AnÃ¡lisis](docs/guides/)

### ðŸ‘¨â€ðŸ’» Para Desarrolladores
- ðŸ”§ [GuÃ­a de Desarrollo](docs/guides/README-dev.md)
- ðŸ”Œ [API REST Documentation](docs/api/)
- ðŸ—ï¸ [Arquitectura TÃ©cnica](docs/STRUCTURE.md)

### âš¡ Referencia RÃ¡pida
- âš¡ [Quick Start](docs/guides/QUICK_START.md)
- ðŸ” [Referencias de BD](docs/guides/QUICK_REFERENCE_BD.md)

---

## ðŸ§ª Ejecutar Pruebas

```bash
# âœ… Unitarias
pytest tests/unit/ -v

# ðŸ”— IntegraciÃ³n
pytest tests/integration/ -v

# ðŸš€ End-to-end
pytest tests/e2e/ -v

# ðŸ“Š Con cobertura
pytest tests/ --cov=src --cov-report=html
```

---

## ðŸ³ Despliegue

### Docker
```bash
# Construir e iniciar
docker compose up --build

# Detener
docker compose down
```

### Servidor Flask Local
```bash
python src/backend/app.py
```

---

## ðŸ’¾ Base de Datos

```bash
# Inicializar
python scripts/utilities/seed_db.py

# Inspeccionar
python scripts/utilities/inspect_tables.py

# Verificar esquema
python scripts/utilities/check_schema.py
```

---

## ðŸ” Seguridad

âœ… **Implementado:**
- JWT Tokens para autenticaciÃ³n
- CORS configurado
- ProtecciÃ³n CSRF
- ORM contra SQL Injection
- ValidaciÃ³n de entrada
- EncriptaciÃ³n con bcrypt

âš ï¸ **Checklist ProducciÃ³n:**
- [ ] Cambiar `SPM_SECRET_KEY`
- [ ] Desactivar `AUTH_BYPASS` (= 0)
- [ ] Configurar HTTPS/SSL
- [ ] Revisar permisos de archivos
- [ ] Configurar backups

---

## ðŸ¤ Contribuir

1. Fork el repositorio
2. `git checkout -b feature/nueva-funcionalidad`
3. Haz cambios y commits
4. `git push origin feature/nueva-funcionalidad`
5. Abre Pull Request

**EstÃ¡ndares:**
- Python: PEP 8
- JavaScript: ESLint
- Mensajes en espaÃ±ol

---

## ðŸ†˜ Troubleshooting

**Error de BD:**
```bash
rm spm.db
python scripts/utilities/seed_db.py
```

**Puerto ocupado:**
```bash
# Windows
netstat -ano | findstr :5000
taskkill /PID <PID> /F
```

**Dependencias:**
```bash
pip install --upgrade -r requirements.txt
```

---

## ðŸ“¦ Cambios Recientes

**v1.0 - Octubre 2025:**
- âœ¨ ReorganizaciÃ³n completa
- ðŸ—‘ï¸ EliminaciÃ³n de obsolescencias
- ðŸ“š DocumentaciÃ³n actualizada
- ðŸ”§ ConfiguraciÃ³n centralizada

Ver [CHANGELOG.md](docs/CHANGELOG.md) para mÃ¡s.

---

**Â¡Gracias por usar SPM!** ðŸš€

*Ãšltima actualizaciÃ³n: Octubre 26, 2025*


>>> requirements.txt
annotated-types==0.7.0
bcrypt==5.0.0
blinker==1.9.0
certifi==2025.10.5
charset-normalizer==3.4.4
click==8.3.0
colorama==0.4.6
dnspython==2.8.0
email-validator==2.3.0
et_xmlfile==2.0.0
Flask==3.1.2
flask-cors==6.0.1
greenlet==3.2.4
gunicorn==23.0.0
idna==3.11
itsdangerous==2.2.0
Jinja2==3.1.6
joblib==1.5.2
MarkupSafe==3.0.3
numpy==2.3.4
openpyxl==3.1.5
packaging==25.0
pandas==2.3.3
pillow==12.0.0
pydantic==2.12.3
pydantic_core==2.41.4
PyJWT==2.10.1
python-dateutil==2.9.0.post0
python-dotenv==1.1.1
pytz==2025.2
reportlab==4.4.4
requests==2.32.5
scikit-learn==1.7.2
scipy==1.16.2
six==1.17.0
SQLAlchemy==2.0.44
threadpoolctl==3.6.0
typing-inspection==0.4.2
typing_extensions==4.15.0
tzdata==2025.2
urllib3==2.5.0
Werkzeug==3.1.3


>>> pyproject.toml
[tool.black]
line-length = 100
target-version = ["py311"]

[tool.ruff]
line-length = 100
target-version = "py311"
exclude = ["build", "dist", ".venv", "venv"]
extend-select = ["I"]

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
addopts = "-ra"


