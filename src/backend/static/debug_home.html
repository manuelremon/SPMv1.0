<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Home HTML</title>
    <style>
        body {
            font-family: monospace;
            background: #1e1e1e;
            color: #0f0;
            padding: 20px;
            max-width: 1200px;
        }
        pre {
            background: #000;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            margin: 10px 0;
        }
        button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .section {
            margin: 30px 0;
            border-top: 1px solid #444;
            padding-top: 20px;
        }
    </style>
</head>
<body>
    <h1>üîç Debug Home HTML</h1>
    
    <button onclick="loadAndInspectHome()">Cargar y Inspeccionar home.html</button>
    <button onclick="location.href='/home.html'">Ir a home.html Normal</button>

    <div class="section" id="results"></div>

    <script>
        async function loadAndInspectHome() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>Cargando...</p>';

            try {
                const response = await fetch('/home.html');
                const html = await response.text();

                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');

                // Inspeccionar body
                const body = doc.body;
                const bodyHTML = body.outerHTML.substring(0, 500);

                // Buscar elementos espec√≠ficos
                const header = doc.querySelector('header');
                const main = doc.querySelector('main');
                const contentSection = doc.querySelector('.content-section');
                const title = doc.querySelector('h1');

                // Buscar elementos ocultos
                const hideElements = doc.querySelectorAll('.hide');
                const bodyClasses = body.className;
                const bodyDataAttrs = Array.from(body.attributes).map(attr => `${attr.name}="${attr.value}"`).join(' ');

                // Buscar scripts
                const scripts = doc.querySelectorAll('script');

                results.innerHTML = `
                    <div class="section">
                        <h2>üìÑ Body</h2>
                        <p><strong>Clases:</strong> <code>${bodyClasses || '(ninguna)'}</code></p>
                        <p><strong>Data attributes:</strong> <code>${bodyDataAttrs}</code></p>
                        <pre>${bodyHTML.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</pre>
                    </div>

                    <div class="section">
                        <h2>üîç Elementos Principales</h2>
                        <p><strong>Header:</strong> ${header ? '‚úì Existe' : '‚úó NO existe'}</p>
                        <p><strong>Main:</strong> ${main ? '‚úì Existe' : '‚úó NO existe'}</p>
                        <p><strong>Content Section:</strong> ${contentSection ? '‚úì Existe' : '‚úó NO existe'}</p>
                        <p><strong>T√≠tulo (H1):</strong> ${title ? `‚úì "${title.textContent.trim()}"` : '‚úó NO existe'}</p>
                    </div>

                    <div class="section">
                        <h2>üëÅÔ∏è Elementos con clase "hide"</h2>
                        <p><strong>Cantidad:</strong> ${hideElements.length}</p>
                        ${hideElements.length > 0 ? `<p><strong>Elementos ocultos:</strong></p><ul>${Array.from(hideElements).map(el => `<li><code>&lt;${el.tagName.toLowerCase()} class="${el.className}"&gt;</code></li>`).join('')}</ul>` : '<p>‚úì Ninguno oculto</p>'}
                    </div>

                    <div class="section">
                        <h2>üìù Scripts</h2>
                        <p><strong>Cantidad:</strong> ${scripts.length}</p>
                        <ul>
                            ${Array.from(scripts).map(s => `
                                <li>
                                    <code>${s.src ? s.getAttribute('src') : '(inline)'}</code>
                                    ${s.type ? ` [type=${s.type}]` : ''}
                                    ${s.defer ? ' [defer]' : ''}
                                    ${s.async ? ' [async]' : ''}
                                </li>
                            `).join('')}
                        </ul>
                    </div>

                    <div class="section">
                        <h2>üìä Estad√≠sticas</h2>
                        <p><strong>Tama√±o total:</strong> ${(html.length / 1024).toFixed(2)} KB</p>
                        <p><strong>L√≠neas:</strong> ${html.split('\\n').length}</p>
                        <p><strong>Elementos totales:</strong> ${doc.querySelectorAll('*').length}</p>
                    </div>

                    <div class="section">
                        <h2>üéØ Main Container</h2>
                        <pre>${main ? main.innerHTML.substring(0, 1000).replace(/</g, '&lt;').replace(/>/g, '&gt;') + '...' : 'NO ENCONTRADO'}</pre>
                    </div>
                `;

                console.log('Documento parseado:', doc);
                console.log('Body:', body);
                console.log('Main:', main);
                console.log('Content:', contentSection);
            } catch (e) {
                results.innerHTML = `<p style="color: red;">‚úó Error: ${e.message}</p><pre>${e.stack}</pre>`;
            }
        }

        // Auto-run
        window.addEventListener('load', () => {
            console.log('Debug page loaded');
        });
    </script>
</body>
</html>
